let team_a_score = document.querySelector('#team-a-score')
let team_b_score = document.querySelector('#team-b-score')
let players_team_a_scores = document.querySelector('#players-team-a-scores')
let players_team_b_scores = document.querySelector('#players-team-b-scores')
let player =  '<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.02166 0C9.31408 0 12 2.68592 12 6.02166C12 9.31408 9.31408 12 6.02166 12C2.68592 12 0 9.31408 0 6.02166C0 2.68592 2.68592 0 6.02166 0ZM3.59567 9.05415L4.72202 7.66787L4.11552 5.71841L2.25271 4.93863L0.433213 6.28159L0.34657 6.19495C0.389892 7.3213 0.736462 8.31769 1.29964 9.18412L1.34296 9.05415H3.59567ZM4.98195 7.84116L3.8556 9.27076L4.54874 11.3935L4.41877 11.4368C5.45848 11.7401 6.54152 11.7401 7.58123 11.4368L7.49459 11.3935L8.18773 9.27076L7.01805 7.84116H4.98195ZM7.27798 7.66787L8.40433 9.05415H10.657L10.7004 9.18412C11.3069 8.31769 11.6534 7.3213 11.6968 6.19495L11.5668 6.28159L9.74729 4.93863L7.9278 5.71841L7.27798 7.66787ZM7.79783 5.41516L9.66065 4.6787L10.3538 2.51264H10.4838C9.83394 1.68953 8.92419 1.03971 7.9278 0.649819L7.97112 0.779783L6.15162 2.12274V4.24549L7.79783 5.41516ZM2.33935 4.6787L4.20217 5.41516L5.84838 4.24549V2.12274L4.02888 0.823105L4.0722 0.649819C3.07581 1.03971 2.16606 1.68953 1.51625 2.51264H1.64621L2.33935 4.6787ZM4.46209 0.563177L4.41877 0.693141L6.02166 1.81949L7.62455 0.693141L7.58123 0.563177C6.54152 0.259928 5.45848 0.259928 4.46209 0.563177ZM10.7004 2.85921H10.5704L9.9639 4.72202L11.5668 5.8917L11.6968 5.80505C11.6534 4.72202 11.3069 3.68231 10.7004 2.85921ZM10.4838 9.53069L10.4404 9.3574H8.44765L7.84116 11.2635L7.97112 11.3502C8.96751 10.9603 9.83394 10.3538 10.4838 9.53069ZM4.0722 11.3502L4.15884 11.2635L3.55235 9.3574H1.60289L1.55957 9.53069C2.20939 10.3538 3.07581 10.9603 4.0722 11.3502ZM0.34657 5.80505L0.433213 5.8917L2.0361 4.72202L1.4296 2.85921H1.29964C0.736462 3.68231 0.389892 4.72202 0.34657 5.80505ZM7.58123 5.67509L6.02166 4.50542L4.41877 5.67509L5.02527 7.53791H6.97473L7.58123 5.67509Z" fill="white"/></svg><h3>player name</h3>'
let team_a_fauls = document.querySelector('#team_a_fauls')
let team_b_fauls = document.querySelector(' #team_b_fauls')
let team_a_reds = document.querySelector('#team_a_reds')
let team_b_reds = document.querySelector('#team_b_reds')
let team_a_yellows = document.querySelector('#team_a_yellows')
let team_b_yellows = document.querySelector('#team_b_yellows')
let match_time = document.querySelector('#match-time')

const socket = new WebSocket(`ws://${window.location.host}/ws/football/`)

socket.onmessage = function(e) {
    console.log('Server:' + e.data)
    server_data = JSON.parse(e.data)
    
    team_a_score.innerHTML = server_data.team_a_score
    team_b_score.innerHTML = server_data.team_b_score

    team_a_fauls.innerHTML = server_data.team_a_fauls
    team_b_fauls.innerHTML = server_data.team_b_fauls

    team_a_reds.innerHTML = server_data.team_a_reds
    team_b_reds.innerHTML = server_data.team_b_reds

    team_a_yellows.innerHTML = server_data.team_a_yellows
    team_b_yellows.innerHTML = server_data.team_b_yellows

    match_time.innerHTML = `${server_data.minutes}'`

    players_team_a_scores.innerHTML = ""
    players_team_b_scores.innerHTML = ""

    server_data.team_a_players_scores.map((item) => {
        players_team_a_scores.innerHTML += `<div class="player__score"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.02166 0C9.31408 0 12 2.68592 12 6.02166C12 9.31408 9.31408 12 6.02166 12C2.68592 12 0 9.31408 0 6.02166C0 2.68592 2.68592 0 6.02166 0ZM3.59567 9.05415L4.72202 7.66787L4.11552 5.71841L2.25271 4.93863L0.433213 6.28159L0.34657 6.19495C0.389892 7.3213 0.736462 8.31769 1.29964 9.18412L1.34296 9.05415H3.59567ZM4.98195 7.84116L3.8556 9.27076L4.54874 11.3935L4.41877 11.4368C5.45848 11.7401 6.54152 11.7401 7.58123 11.4368L7.49459 11.3935L8.18773 9.27076L7.01805 7.84116H4.98195ZM7.27798 7.66787L8.40433 9.05415H10.657L10.7004 9.18412C11.3069 8.31769 11.6534 7.3213 11.6968 6.19495L11.5668 6.28159L9.74729 4.93863L7.9278 5.71841L7.27798 7.66787ZM7.79783 5.41516L9.66065 4.6787L10.3538 2.51264H10.4838C9.83394 1.68953 8.92419 1.03971 7.9278 0.649819L7.97112 0.779783L6.15162 2.12274V4.24549L7.79783 5.41516ZM2.33935 4.6787L4.20217 5.41516L5.84838 4.24549V2.12274L4.02888 0.823105L4.0722 0.649819C3.07581 1.03971 2.16606 1.68953 1.51625 2.51264H1.64621L2.33935 4.6787ZM4.46209 0.563177L4.41877 0.693141L6.02166 1.81949L7.62455 0.693141L7.58123 0.563177C6.54152 0.259928 5.45848 0.259928 4.46209 0.563177ZM10.7004 2.85921H10.5704L9.9639 4.72202L11.5668 5.8917L11.6968 5.80505C11.6534 4.72202 11.3069 3.68231 10.7004 2.85921ZM10.4838 9.53069L10.4404 9.3574H8.44765L7.84116 11.2635L7.97112 11.3502C8.96751 10.9603 9.83394 10.3538 10.4838 9.53069ZM4.0722 11.3502L4.15884 11.2635L3.55235 9.3574H1.60289L1.55957 9.53069C2.20939 10.3538 3.07581 10.9603 4.0722 11.3502ZM0.34657 5.80505L0.433213 5.8917L2.0361 4.72202L1.4296 2.85921H1.29964C0.736462 3.68231 0.389892 4.72202 0.34657 5.80505ZM7.58123 5.67509L6.02166 4.50542L4.41877 5.67509L5.02527 7.53791H6.97473L7.58123 5.67509Z" fill="white"/></svg><h3>${item.player.name} | ${item.player.number}</h3></div>`
    })
    server_data.team_b_players_scores.map((item) => {
        players_team_b_scores.innerHTML += `<div class="player__score player__score__b"><h3>${item.player.name} | ${item.player.number}</h3><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.02166 0C9.31408 0 12 2.68592 12 6.02166C12 9.31408 9.31408 12 6.02166 12C2.68592 12 0 9.31408 0 6.02166C0 2.68592 2.68592 0 6.02166 0ZM3.59567 9.05415L4.72202 7.66787L4.11552 5.71841L2.25271 4.93863L0.433213 6.28159L0.34657 6.19495C0.389892 7.3213 0.736462 8.31769 1.29964 9.18412L1.34296 9.05415H3.59567ZM4.98195 7.84116L3.8556 9.27076L4.54874 11.3935L4.41877 11.4368C5.45848 11.7401 6.54152 11.7401 7.58123 11.4368L7.49459 11.3935L8.18773 9.27076L7.01805 7.84116H4.98195ZM7.27798 7.66787L8.40433 9.05415H10.657L10.7004 9.18412C11.3069 8.31769 11.6534 7.3213 11.6968 6.19495L11.5668 6.28159L9.74729 4.93863L7.9278 5.71841L7.27798 7.66787ZM7.79783 5.41516L9.66065 4.6787L10.3538 2.51264H10.4838C9.83394 1.68953 8.92419 1.03971 7.9278 0.649819L7.97112 0.779783L6.15162 2.12274V4.24549L7.79783 5.41516ZM2.33935 4.6787L4.20217 5.41516L5.84838 4.24549V2.12274L4.02888 0.823105L4.0722 0.649819C3.07581 1.03971 2.16606 1.68953 1.51625 2.51264H1.64621L2.33935 4.6787ZM4.46209 0.563177L4.41877 0.693141L6.02166 1.81949L7.62455 0.693141L7.58123 0.563177C6.54152 0.259928 5.45848 0.259928 4.46209 0.563177ZM10.7004 2.85921H10.5704L9.9639 4.72202L11.5668 5.8917L11.6968 5.80505C11.6534 4.72202 11.3069 3.68231 10.7004 2.85921ZM10.4838 9.53069L10.4404 9.3574H8.44765L7.84116 11.2635L7.97112 11.3502C8.96751 10.9603 9.83394 10.3538 10.4838 9.53069ZM4.0722 11.3502L4.15884 11.2635L3.55235 9.3574H1.60289L1.55957 9.53069C2.20939 10.3538 3.07581 10.9603 4.0722 11.3502ZM0.34657 5.80505L0.433213 5.8917L2.0361 4.72202L1.4296 2.85921H1.29964C0.736462 3.68231 0.389892 4.72202 0.34657 5.80505ZM7.58123 5.67509L6.02166 4.50542L4.41877 5.67509L5.02527 7.53791H6.97473L7.58123 5.67509Z" fill="white"/></svg></div>`
    })
}

socket.onopen = function(e) {
    socket.send(JSON.stringify({
        'message': 'Hello from client'
    }))
}